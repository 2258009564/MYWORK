对于实数变量的积分，x只能在数轴上运动 因此从a到b的路径是一定的，不会产生歧义。
但对于复变函数积分 z可以在整个复平面上运动 所以大部分情况多必须写明积分路径C 才不会有歧义
这说明 复变函数的积分 接近曲线积分 因此复变函数的积分也像曲线积分一样分为三步
1. 描述曲线：通过曲线方程确定唯一自变量，并给出该自变量的变化范围
2. 变量替换：将积分中的所有部分都替换成上述自变量的表达式
3. 带入计算

#### 描述曲线
##### $y = y(x)$
把自变量确定为x 把整个积分式转换为对x的积分即可。
##### $x=x(y)$
把自变量确定为y 把整个积分式转换为对y的积分即可。
##### $r=r(\theta)$ 
圆弧形的曲线更适合用该方程描述，配合 $z=re^{i\theta}$ 即可将积分转化为关于 $\theta$ 的积分。
特别的 有以下公式：
$$
\begin{align}
C是以z_{0}为圆心的正向圆周，则 \oint_{C} \frac{1}{(z-z_{0)^{n}}} \, dz = \begin{cases}
2\pi i , \, \, n = 1\\ \\
0, \, \, n \neq 1
\end{cases}
\end{align}
$$
可以显然看出来，结果仅与 $n$ 的取值有关，而与半径 $r$ 无关
如果C是负向圆周 那么答案就加个负号就行
## 非环路问题：
### 原函数存在定理
回忆积分与路径无关性：如果函数 $f(z)$ 在单连通区域 $D$ 上解析，$C[a,b]$ 是 $D$ 中的曲线。那么积分$\oint_C[a,b] f(z)dz$  的结果仅由起终点 $a,b$ 决定，而与路径无关。
如果 $C$ 不是闭合回路 意味着存在原函数 $F(z)$ 在 $D$ 中 总有 
$$\begin{align}
\int_{C[a, b]} f(z) \, dz = F(b) - F(a)
\end{align}$$

这说明 如果我们遇到了在整个复平面都解析  或者解析区域为单连通区域（不含孤立奇点和洞）的函数，可以通过"求原函数，带入上下限" 的方法直接计算。

> 计算积分 $\int_{0}^{2i} \cos z dz$ 

$\cos z$ 在整个复平面上解析，积分与路径无关，因此直接用原函数法求积分即可。

> 计算 $\int_{C} ze^{z^{2}}$ 其中 C 是 以 $\frac{i}{2}$ 为圆心，半径是 $\frac{1}{2}$ 从 $0$ 到 $i$ 的右半圆

$z, z^{2}, e^z$ 都是解析函数，因此复合得到的 $ze^{z^{2}}$ 依然是复平面上的解析函数，可以直接用原函数法求

> 计算 $\int_{C} \ln z \, dz$ 其中 $C$ 是 1 到 $i$ 的直线段。

$\ln z$ 的解析区域是单连通的，可以直接用原函数法求积分。

需要特别注意的是，如 $\frac{1}{z},\frac{z}{z^{2}+4}$ 之类具有孤立奇点的函数，不能使用原函数，必须用下面的方法描述路径积分。

## 环路问题：
### 柯西-古萨定理
先认识**积分与路径无关性**：
如果函数 $f(z)$ 在单连通区域 $D$ 上解析，$C[a, b]$ 是 $D$ 中的曲线，那么积分 $\int_{C[a,b]} f(z) \, dz$ 的结果仅由 $a, b$ 决定 与路径无关。

接下来介绍**柯西-古萨定理**：
环路 $C$ 为单连通区域 $D$ 的边界，若函数 $f(z)$ 在 $D$ 内解析，在 $C$ 上连续，则有：
$$
\begin{align}
\oint_{C} f(z) \, dz = 0
\end{align}
$$
解释：$f(z)$ 在单连通区域 $D$ 上解析，因此积分与路径无关，只取决于起点和终点 环路就相当于没动，自然积分为0

这个问题的关键在于 判断 $f(z)$ 是否真的在环路内解析。
如何判断？找奇点，判断环路内是否包含奇点即可。

此处有上面重要推论的加强版，下文成为闭路变形定理推论：
$$
\begin{align}
C是围绕z_0一周的正向闭合回路，则 \oint_{C} \frac{1}{(z-z_{0})^{n}} \, dz = \begin{cases}
2\pi i , \, \, n = 1\\ \\
0, \, \, n \neq 1
\end{cases}
\end{align}
$$
该推论说明，我们不再要求环路C的形状 只要正向环路围绕奇点 $z_0$ 一周即可使用该推论。



### 曲线围绕多奇点中的一个 其一
给出积分
$$\begin{align}
\oint_{C} \frac{dz}{z^{2}+9}
\end{align}$$
现在知道点 $3i$ 在 $C$ 内部，$-3i$ 在曲线外部
可以对上式分解得到
$$\begin{align}
	 \frac{1}{6i} \left(\oint_{C} \frac{1}{z-3i} \, dz- \oint_{C} \frac{1}{z+3i} \, dz\right)
\end{align}$$
因而可以发现 左式子的奇点是 $3i$,  右式子的奇点是 $-3i$ ，而现在已知C包含了 $3i$ 
那是不是可以得出：左式子的结果是 $2 \pi i$ ，右式子的结果是0
答案由此推出，是 $2 \pi i * \frac{1}{6i} = \frac{\pi}{3}$ 

这启示我们：结合C的性质，分解给出的式子 把原来的式子分别化为围绕奇点的和不围绕奇点的 再方便的计算答案

### 复合闭路定理
这条定理是上面**闭路变形定理**的进一步推广，可以方便的解决曲线围绕多个奇点的问题
该定理说明：如果曲线C围绕多个奇点，那么可以拆分为多个小圆，每个小圆只围绕一个奇点 从而转化成围绕单个奇点的问题。

> 设 存在 $C$ 围绕 $3i, -3i$ 试计算$\oint_{C} \frac{dz}{z^{2}+9}$

设 $f(z) = \frac{1}{z^{2}+9}$ 显然 $f(z)$ 的奇点都被 $C$ 包含 因此我们可以分别计算包含 $3i$ 和 $-3i$ 的结果 将结果加和即可。
具体来说，设 $C_1$ 围绕 $3i$ ， $C_2$ 围绕 $-3i$ 于是有：
$$\begin{align}
\oint_{C} \frac{dz}{z^{2}+9} = \oint_{C_1} \frac{dz}{z^{2}+9} + \oint_{C_2} \frac{dz}{z^{2}+9}
\end{align}$$
现在我们得到的两个式子都可以用上面 **曲线围绕多奇点中的一个** 的方式解决，答案是0 细节不在此给出。

### 柯西积分公式
若函数 $f(z)$ 在正向简单闭曲线 $C$ 及其围成的区域 $D$ 内解析，$z_0$ 为$D$内任意一点，则
$$\begin{align}
f(z_{0}) = \frac{1}{2\pi i} \oint_{C} \frac{f(z)}{z-z_{0}} \, dz
\end{align}$$

将这个公式稍微变形 得到：
$$\begin{align}
\oint_{C} \frac{f(z)}{z-z_{0}} \, dz = 2 \pi i \,  f(z_{0})
\end{align}$$ 
这是一个求 $\frac{f(z)}{z-z_{0}}$ 型积分的方法 具体有什么作用可以参考下面的总结

### 小的总结
总结一下 我们都学了什么？
首先 我们要求复变函数的积分，给出了三种曲线的描述方法，关于x和y的都很简单
关于 $\theta$ 的积分，我们的重点在于处理环形回路。 对于 $\oint_{C} f(z) \, dz$ 我们衍生出以下方法：

1. 若该闭合回路**不包含**奇点 那么不论 $f(z)$ 是啥，答案总是0 参考**柯西-古萨定理**
		
2. 若该闭合回路包含奇点
	- 若满足特定格式 $\frac{1}{(z-z_{0})^{n}}$，那么积分的结果只跟n有关 参考**闭路变形定理的推论**

3. 若满足特定格式 $f(z) = \frac{g(z)}{z-z_{0}}$  那么积分的结果有以下可能：
	1. 若闭合回路不包含 $f(z)$ 的奇点，那么问题转换为 方法1；
	2. 若闭合回路包含 $f(z)$ 的奇点 那么：
		- 若闭合回路**不**包含 $g(z)$ 的奇点 那么答案可以直接通过**柯西积分公式**求出
		- 若闭合回路包含 $g(z)$ 的奇点 那么需要综合考虑所有奇点对积分的贡献 可以使用留数定理求解。

### 曲线围绕多奇点中的一个 其二
值得注意的是，**柯西积分公式** 无需拆分分式，且可以直接用于分子不为常数的情形；因此 用 **柯西积分公式** 处理 上面的 **曲线围绕多奇点中的一个** 是十分方便的

给出积分
$$\begin{align}
\oint_{C} \frac{dz}{z^{2}+9}
\end{align}$$
现在知道点 $3i$ 在 $C$ 内部，$-3i$ 在曲线外部
对分母因式分解 得到 $z^{2}+9 = (z+3i)(z-3i)$ 因此 在 曲线外部的 $(z+3i)$ 可以被直接挪到上面 积分式子化为
$$\begin{align}
\oint_{C} \frac{f(z)}{z-3i} \, dz \ \  其中 \, f(z) = \frac{1}{z+3i}
\end{align}$$

这个式子的结果是 $2 \pi i \, f(z_{0})$ 其中 $z_{0} = 3i$ 可以轻易算出结果 是 $2 \pi i * \frac{1}{6i} = \frac{\pi}{3}$ 
可以结合 **曲线围绕多奇点中的一个 其一** 来感受这种方法的强大

### 高阶导数公式
注意到，柯西积分公式
$$\begin{align}
\oint_{C} \frac{f(z)}{z-z_{0}} \, dz = 2 \pi i \,  f(z_{0})
\end{align}$$
可以改写为：
$$\begin{align}
\oint_{C} \frac{f(z)}{(z-z_{0})^{ 0 + 1}} \, dz = \frac{2 \pi i}{0!} \,  f^{0}(z_{0})
\end{align}$$
启示我们：
$$\begin{align}
\oint_{C} \frac{f(z)}{(z-z_{0})^{n + 1}} \, dz = \frac{2 \pi i}{n!} \,  f^{n}(z_{0})
\end{align}$$
尽管没有任何证明 但是这看起来很对不是吗？

特别注意：被积函数分母为$n+1$次方时，要除以的是$n!$,求$n$阶导数（比次数少$1$） 

## 大的总结
### 环路问题
$C$ 为一条围绕 $z_{0}$ 点的简单正向闭合曲线，$f(z)$ 在 $C$ 及其围成的区域 $D$ 上解析。
#### 柯西-古萨定理
$$
\begin{align}
\oint_{C} f(z) \, dz = 0
\end{align}
$$
#### 柯西积分公式
$$\begin{align}
\oint_{C} \frac{f(z)}{z-z_{0}} \, dz = 2 \pi i \,  f(z_{0})
\end{align}$$
#### 高阶导数公式
$$\begin{align}
\oint_{C} \frac{f(z)}{(z-z_{0})^{n + 1}} \, dz = \frac{2 \pi i}{n!} \,  f^{n}(z_{0})
\end{align}$$
#### 多奇点
如果曲线 $C$ 围绕了 $g(z)$ 的多个奇点：$z_1,z_2,··· ,z_n$ 那么构造正向回路$C_1,C_2,··· ,C_n$，分别只围绕 $z_1,z_2,··· ,z_n$
则有：
$$
\begin{align}
\oint_{C} g(z) \, dz = \oint_{C_1} g(z) \, dz + \oint_{C_2} g(z) \, dz + ... + \oint_{C_n} g(z) \, dz
\end{align}
$$
对其中的每一项使用柯西积分公式或者高阶导数公式即可。
### 非环路问题
$C$ 为 从 $a$ 到 $b$ 的连续曲线。
#### 原函数存在定理
如果 $f(z)$ 在复平面解析，或者解析区域为单连通（没有孤立奇点和洞），可使用原函数进行积分
$$
\begin{align}
\int_{C[a, b]} f(z) \, dz = F(b) - F(a)
\end{align}
$$
#### 描述曲线
如果 $f(z)$ 的解析区域不是单连通，有孤立奇点或洞，则必须严格按照第一节的方法，描述曲线进行积分。
